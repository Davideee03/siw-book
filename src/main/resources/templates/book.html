<!DOCTYPE html>
<html>

<head>
	<title th:text="${book.title + ' (' + book.year + ')'}">Default Title</title>
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Playfair+Display&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="/css/style.css">
</head>

<body>
	<div th:replace="fragments/navbar :: navbar"></div>

	<h1 class="center-title" th:text="${book.title}"></h1>

	<section id="descriptions-container">

		<div class="description">

			<div class="photo-gallery">
				<div th:each="photo : ${photos}">
					<img th:src="@{'/bookPhoto/' + ${photo.id}}" alt="Foto libro" />
				</div>
			</div>
		</div>

		<div class="description">
			<h2>The book's identity card</h2>
			<h3>Year: </h3>
			<p th:text="${book.year}"></p>
			<h3>Genre: </h3>
			<p th:text="${book.genre}"></p>
			<h3>Plot: </h3>
			<p th:text="${book.plot}"></p>

			<h1>Authors</h1>
			<div id="author-flex-container" th:if="${authors != null}">
				<a class="flex-item" th:each="author : ${authors}" th:href="@{/author/{id}(id=${author.id})}">
					<div class="photo-container">
						<img th:if="${author.authorPhoto != null}" th:src="@{'/authorPhoto/' + ${author.authorPhoto.id}}" alt="Foto di [[${author.firstName}]]">
					</div>
					<h3 th:text="${author.firstName + ' ' + author.lastName}">Author Name</h3>
				</a>
			</div>
		</div>
	</section>


	<div th:unless="${#lists.isEmpty(book.reviews)}" class="long-divider"></div>
	<div th:unless="${#lists.isEmpty(book.reviews)}">

		<section id="reviews">
			<h1>Reviews</h1>
			<div class="review" th:each="review : ${book.reviews}">
				<h3 th:text="${review.title + ' ' + review.mark + '/5'}">Review Title</h3>
				<p th:text="${review.description}">Review description</p>
			</div>
		</section>
	</div>

	<div th:unless="${#lists.isEmpty(book.reviews)}" class="long-divider"></div>

	<h2 class="center-title">Something similar?</h2>
	<section>
		<div id="flex-container">
			<a class="flex-item" th:href="@{/book/{id}(id=${book.id})}" th:each="book : ${booksSameGenre}">
				<h3 th:text="${book.title}"></h3>
				<div th:unless="${#lists.isEmpty(authors)}" th:each="author : ${authors}">
					<p th:text="${'of ' + author.firstName + ' ' + author.lastName}"></p>
				</div>
			</a>
		</div>
	</section>
	<div th:replace="fragments/footer :: footer"></div>
</body>

</html>